---
import Layout from "@/layouts/Layout.astro";
import HeaderPage from "@/sections/HeaderPage.astro";
import FiltersPersonage from "@/components/FiltersPersonage.astro";
import Personages from "@/sections/Personages.astro";
import Pagination from "@/components/Pagination.astro";
import { getNumberPagination } from "@/services/getNumberPagination";
// import PersonagesWithPagination from "@/components/react/PersonagesWithPagination";

// Obtener el número de página desde la URL
const currentPage = parseInt(Astro.url.searchParams.get("page") || "1");

const numberPagination = await getNumberPagination();
---

<Layout
	title="Proyecto JS API Rick y Morty | Esteban Dev"
	description="Proyecto realizado con Astro y la API de Rick y Morty para mostrar personajes, episodios y localizaciones."
>
	<HeaderPage />
	<FiltersPersonage />
	<Personages />
	<Pagination totalPages={numberPagination} currentPage={currentPage} />
</Layout>
